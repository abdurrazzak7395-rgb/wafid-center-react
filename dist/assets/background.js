chrome.runtime.onMessage.addListener((e,t,r)=>{if(e?.type==="trigger-automation-in-new-tab"){const o=e.receiverTabUrl;return chrome.tabs.create({url:o},i=>{chrome.scripting.executeScript({target:{tabId:i.id},func:c,args:[e.row]},n=>{chrome.runtime.lastError?(console.error("Error in executing script: ",chrome.runtime.lastError),r({ok:!1,error:chrome.runtime.lastError.message})):(console.log("Script executed successfully",n),r({ok:!0}))})}),!0}return!0});function c(e){console.log("Receiver tab automation triggered with data:",e);try{if(e.name){const r=document.querySelector("input[name='name']");r&&(r.value=e.name)}if(e.email){const r=document.querySelector("input[name='email']");r&&(r.value=e.email)}const t=document.querySelector("button[type='submit']");t&&t.click(),console.log("Form filled and automation triggered successfully.")}catch(t){console.error("Error in triggering automation:",t)}}
//# sourceMappingURL=background.js.map
